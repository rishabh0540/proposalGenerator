<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poshn Proposal Generator | Admin Panel</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Babel for browser-side JSX compilation -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Font Awesome for UI and Base Code -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;
        
        // Fixed Syntax Error: Using string concatenation instead of template literals inside JSX props
        // to avoid Babel standalone parser conflicts in some browser environments.
        const Icon = ({ name, className = "" }) => {
            return <i className={"fa-solid fa-" + name + " " + className}></i>;
        };

        const App = () => {
            const [config, setConfig] = useState({
                buyerName: 'Global Foods Inc.',
                contactEmail: 'rishabhsharma@poshn.co',
                showWorkingModel: true,
                workingModelDays: '3rd',
                selectedPillars: ['Vendor Management', 'Reconciliation', 'Immediate Vendor Payments', 'Compliances'],
                selectedUSPs: ['3-7 Days TAT', 'Zero Training', 'Easy Migration', '365 Day Support', 'E2E Solution', 'Invoice Tracking'],
                selectedGovernance: [
                    'Master Service Agreements',
                    'Indemnity Bonds',
                    'Security Cheques (Buyer to Poshn)',
                    'Poshn pays delay charges if Poshn delays.'
                ],
                selectedExclusions: [
                    'Quality Guarantee: Responsibility of Buyer.',
                    'Delivery Guarantee: Aligned by Buyer/Vendor.',
                    'Payment Delays: Buyer pays pro-rata if late.'
                ],
                selectedTiers: ['Only Tech', 'Tech + KAM', 'The Full Engine']
            });

            const [activeTab, setActiveTab] = useState('editor');
            const [copied, setCopied] = useState(false);

            const PILLAR_DEFS = {
                'Vendor Management': { icon: 'users-gear', desc: 'Onboarding and relationship management for stable supply.' },
                'Reconciliation': { icon: 'calculator', desc: 'Ensuring weight, quality, and billing accuracy at every step.' },
                'Immediate Vendor Payments': { icon: 'hand-holding-dollar', desc: 'Ensuring immediate liquidity for vendors to maintain chain velocity.' },
                'Compliances': { icon: 'shield-halved', desc: 'Rigorous management of supplier KYC & digital invoices.' }
            };

            const USP_DEFS = {
                '3-7 Days TAT': { icon: 'bolt', desc: 'Rapid onboarding and setup to get your procurement running in under a week.' },
                'Zero Training': { icon: 'graduation-cap', desc: 'User-intuitive interface requires no staff training or operational learning curve.' },
                'Easy Migration': { icon: 'database', desc: 'Seamless transition with no hassle of manual data migration or downtime.' },
                '365 Day Support': { icon: 'calendar-check', desc: 'Uninterrupted payment capability 365 days a year to maintain chain velocity.' },
                'E2E Solution': { icon: 'infinity', desc: 'A unified procurement process solution. No external software linking required.' },
                'Invoice Tracking': { icon: 'magnifying-glass-chart', desc: 'Granular invoice-level tracking available for complete audit transparency.' }
            };

            const GOVERNANCE_DEFS = {
                'Master Service Agreements': 'file-signature',
                'Indemnity Bonds': 'file-shield',
                'Security Cheques (Buyer to Poshn)': 'money-check-dollar',
                'Poshn pays delay charges if Poshn delays.': 'clock-rotate-left'
            };

            const EXCLUSION_DEFS = {
                'Quality Guarantee: Responsibility of Buyer.': 'circle-xmark',
                'Delivery Guarantee: Aligned by Buyer/Vendor.': 'circle-xmark',
                'Payment Delays: Buyer pays pro-rata if late.': 'circle-xmark'
            };

            const TIER_DEFS = {
                'Only Tech': {
                    rate: '0.1%', min: 'Min ₹50K / Month', featured: false,
                    features: ['Ops automation platform', 'Auto invoicing & Ledgers', 'Digital KYC records', 'Payments processing', 'Instant PO generation']
                },
                'Tech + KAM': {
                    rate: '0.2%', min: 'Min ₹1 Lakh / Month', featured: false,
                    features: ['Dedicated Human Resource', 'Vendor followup management', 'Zero staff training required', 'PO consolidation service']
                },
                'The Full Engine': {
                    rate: '0.06% - 0.08%', min: 'Capital ROI / Day', featured: true,
                    features: ['All benefits of Tech + KAM', '100% Capital Liquidity', 'Immediate Vendor Settlements', 'Min duration: 7 Days', 'Base aggregator consolidation']
                }
            };

            const finalHTML = useMemo(() => {
                const pillarsHtml = config.selectedPillars.map(p => `
            <div class="tile stagger-child">
                <div class="icon-box"><i class="fa-solid fa-${PILLAR_DEFS[p].icon}"></i></div>
                <div class="text-box">
                    <h3>${p}</h3>
                    <p>${PILLAR_DEFS[p].desc}</p>
                </div>
            </div>`).join('');

                const uspsHtml = config.selectedUSPs.map(u => `
            <div class="tile stagger-child">
                <div class="icon-box"><i class="fa-solid fa-${USP_DEFS[u].icon}"></i></div>
                <div class="text-box">
                    <h3>${u}</h3>
                    <p>${USP_DEFS[u].desc}</p>
                </div>
            </div>`).join('');

                const govHtml = config.selectedGovernance.map(g => `
                        <div class="comp-item"><i class="fa-solid fa-${GOVERNANCE_DEFS[g] || 'check'}"></i> <span>${g.replace('Buyer', config.buyerName)}</span></div>`).join('');
                
                const exclHtml = config.selectedExclusions.map(e => `
                        <div class="comp-item"><i class="fa-solid fa-${EXCLUSION_DEFS[e] || 'xmark'}"></i> <span>${e.replace('Buyer', config.buyerName)}</span></div>`).join('');

                const tiersHtml = config.selectedTiers.map(t => {
                    const d = TIER_DEFS[t];
                    return `
            <div class="tier-card stagger-child ${d.featured ? 'featured' : ''}">
                <h3>${t}</h3>
                <div class="tier-rate">${d.rate}</div>
                <div class="tier-min" ${d.featured ? 'style="color: #fff; opacity: 0.8;"' : ''}>${d.min}</div>
                <ul class="feature-list">
                    ${d.features.map(f => `<li><i class="fa-solid fa-check"></i> ${f}</li>`).join('')}
                </ul>
                ${t !== 'Only Tech' ? '<div class="tcs-note">0.1% TCS Applicable</div>' : ''}
            </div>`;
                }).join('');

                const workingModelSlide = config.showWorkingModel ? `
    <!-- SLIDE 4: WORKING MODEL -->
    <div class="slide-container reveal">
        <h2 class="slide-title">The Working Model</h2>
        <p style="margin-top: -15px;">Seamless "Bill-to-Ship-to" Execution for ${config.buyerName}</p>
        <div class="timeline-box">
            <div class="timeline-line"></div>
            <div class="timeline-step stagger-child">
                <div class="step-num">1</div>
                <div><h3>Order Alignment</h3><p>${config.buyerName} confirms rate/qty with vendors; aligns with Poshn.</p></div>
            </div>
            <div class="timeline-step stagger-child">
                <div class="step-num">2</div>
                <div><h3>Billing Structure</h3><p>Vendor bills Poshn; Poshn counter-bills ${config.buyerName}.</p></div>
            </div>
            <div class="timeline-step stagger-child">
                <div class="step-num">3</div>
                <div><h3>Settlement</h3><p>Poshn pays 100% to vendor on ${config.workingModelDays} day of quality report.</p></div>
            </div>
            <div class="timeline-step stagger-child">
                <div class="step-num">4</div>
                <div><h3>Final Closure</h3><p>${config.buyerName} pays Poshn after agreed payment days from GRN.</p></div>
            </div>
        </div>
        <div style="margin-top: auto; padding-top: 40px;">
            <div style="background: var(--white); padding: 20px; border-radius: 12px; border: 1px solid var(--accent-muted); width: 100%;">
                <p style="margin: 0; font-weight: 600; font-size: 15px;"><i class="fa-solid fa-circle-info highlight"></i> Operational Note: 10% margin money provided by ${config.buyerName} to Poshn upon vehicle delivery.</p>
            </div>
        </div>
    </div>` : '';

                return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poshn Strategic Proposal - ${config.buyerName}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;600;700;800&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root { --bg-cream: #FFFBF2; --text-dark: #42210B; --accent-tan: #D4A373; --accent-muted: #E8D8C3; --white: #FFFFFF; --font-title: 'Urbanist', sans-serif; --font-body: 'Inter', sans-serif; }
        * { box-sizing: border-box; }
        body { background-color: #F3F4F6; margin: 0; display: flex; flex-direction: column; align-items: center; gap: 20px; padding: 20px 0; font-family: var(--font-body); color: var(--text-dark); overflow-x: hidden; }
        .reveal { opacity: 0; transform: translateY(40px); transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }
        .stagger-child { opacity: 0; transform: translateY(20px); transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1); }
        .active .stagger-child { opacity: 1; transform: translateY(0); }
        .active .stagger-child:nth-child(1) { transition-delay: 0.1s; }
        .active .stagger-child:nth-child(2) { transition-delay: 0.2s; }
        .active .stagger-child:nth-child(3) { transition-delay: 0.3s; }
        .active .stagger-child:nth-child(4) { transition-delay: 0.4s; }
        .active .stagger-child:nth-child(5) { transition-delay: 0.5s; }
        .active .stagger-child:nth-child(6) { transition-delay: 0.6s; }

        .slide-container { width: 95%; max-width: 1280px; min-height: 720px; background-color: var(--bg-cream); position: relative; overflow: hidden; display: flex; flex-direction: column; padding: 60px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); border-radius: 12px; margin-bottom: 40px; }
        .slide-container::before { content: ''; position: absolute; top: -100px; right: -100px; width: 400px; height: 400px; background: var(--accent-muted); border-radius: 50%; opacity: 0.3; z-index: 0; }
        .slide-container::after { content: ''; position: absolute; bottom: 30px; left: 60px; width: 100px; height: 6px; background: var(--accent-tan); border-radius: 3px; z-index: 1; }
        .slide-container > * { position: relative; z-index: 2; }

        h1 { font-family: var(--font-title); font-size: clamp(48px, 8vw, 84px); font-weight: 700; margin: 0; line-height: 1.1; color: var(--text-dark); }
        h2.slide-title { font-family: var(--font-title); font-size: clamp(32px, 5vw, 42px); font-weight: 700; margin-bottom: 30px; border-bottom: 3px solid var(--accent-tan); width: fit-content; padding-bottom: 8px; }
        h3 { font-family: var(--font-title); font-size: clamp(22px, 4vw, 26px); font-weight: 600; margin-bottom: 12px; }
        p { font-size: clamp(16px, 2.5vw, 19px); line-height: 1.5; margin-bottom: 15px; }
        .centered-content { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .two-column { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: center; flex-grow: 1; }

        /* REFINED AUTO-ADJUSTING FLEX GRIDS: 
           Centering logic ensures rows with fewer items center perfectly 
           while maintaining consistent card sizes. */
        .tile-grid, .commercial-grid { 
            display: flex; 
            flex-wrap: wrap; 
            justify-content: center; 
            gap: 20px; 
            width: 100%; 
            margin-top: 20px; 
        }
        .tile, .tier-card { 
            flex: 1 1 280px; 
            min-width: 260px;
            max-width: 400px; 
            background: var(--white); 
            padding: 30px 20px; 
            border-radius: 20px; 
            border: 1px solid var(--accent-muted); 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            text-align: center; 
            transition: transform 0.3s ease; 
        }
        
        .tile .icon-box { height: 60px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; }
        .tile i { font-size: 36px; color: var(--accent-tan); }
        .tile h3 { height: 60px; display: flex; align-items: center; justify-content: center; margin: 0 0 10px; }
        .tile p { font-size: 14px; margin: 0; line-height: 1.4; flex-grow: 1; }

        .tier-card { padding: 35px; border-radius: 24px; text-align: left; align-items: flex-start; }
        .tier-card.featured { background: var(--text-dark); color: var(--white); border: none; box-shadow: 0 15px 35px rgba(66, 33, 11, 0.2); }
        .tier-card h3 { border-bottom: 2px solid var(--accent-tan); padding-bottom: 8px; margin-bottom: 15px; width: fit-content; font-size: 20px; }
        .tier-card.featured h3 { color: var(--accent-tan); }
        .tier-rate { font-family: var(--font-title); font-size: clamp(28px, 4vw, 42px); font-weight: 800; margin-bottom: 5px; color: var(--accent-tan); line-height: 1; }
        .tier-min { font-size: 13px; opacity: 0.7; margin-bottom: 15px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .feature-list { list-style: none; padding: 0; margin: 0 0 20px 0; font-size: 14px; line-height: 1.4; flex-grow: 1; }
        .feature-list li { margin-bottom: 8px; display: flex; align-items: flex-start; gap: 8px; }
        .feature-list li i { color: var(--accent-tan); font-size: 12px; margin-top: 4px; }
        .tcs-note { font-size: 12px; opacity: 0.6; margin-top: 10px; font-style: italic; }

        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 25px; text-align: left; }
        .stat-card { background: var(--white); padding: 20px; border-radius: 12px; border: 1px solid var(--accent-muted); min-height: 110px; display: flex; flex-direction: column; justify-content: center; }
        .stat-value { font-weight: 800; font-size: clamp(20px, 4vw, 28px); color: var(--accent-tan); line-height: 1.2; }
        .stat-label { font-size: 12px; opacity: 0.7; font-weight: 600; text-transform: uppercase; margin-top: 4px; line-height: 1.3; }

        .timeline-box { display: flex; justify-content: space-between; position: relative; margin-top: 60px; width: 100%; align-items: flex-start; }
        .timeline-line { position: absolute; top: 35px; left: 0; width: 100%; height: 4px; background: var(--accent-muted); z-index: 1; }
        .timeline-step { width: 22%; text-align: center; position: relative; z-index: 2; display: flex; flex-direction: column; align-items: center; }
        .step-num { width: 70px; height: 70px; background: var(--white); border: 4px solid var(--accent-tan); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 25px; font-size: 24px; font-weight: 700; font-family: var(--font-title); }
        .timeline-step h3 { height: 60px; display: flex; align-items: center; justify-content: center; margin: 0 0 10px; }

        .comp-container { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: stretch; margin-top: 10px; width: 100%; }
        .comp-box { padding: 35px; border-radius: 24px; display: flex; flex-direction: column; justify-content: flex-start; width: 100%; position: relative; box-shadow: 0 4px 20px rgba(0,0,0,0.02); text-align: left; }
        .comp-list { display: flex; flex-direction: column; gap: 12px; width: 100%; margin-top: 10px; }
        .comp-item { display: flex; align-items: center; gap: 12px; padding: 12px 15px; border-radius: 12px; background: rgba(212, 163, 115, 0.05); font-size: 15px; line-height: 1.4; }
        .comp-item i { color: var(--accent-tan); font-size: 16px; flex-shrink: 0; }
        .comp-box.dark .comp-item { background: rgba(255, 251, 242, 0.05); color: var(--bg-cream); }

        @media (max-width: 768px) {
            body { padding: 0; gap: 0; }
            .slide-container { width: 100%; border-radius: 0; min-height: unset; height: auto; padding: 80px 24px; margin-bottom: 0; border-bottom: 2px solid var(--accent-muted); text-align: left !important; }
            h2.slide-title { font-size: clamp(34px, 10vw, 42px); margin-bottom: 40px; width: 100%; text-align: left !important; }
            h3, .comp-box h3 { font-size: 19px; margin-bottom: 8px; height: auto !important; text-align: left !important; display: block !important; width: 100% !important; justify-content: flex-start !important; }
            p { text-align: left !important; }
            .centered-content { align-items: flex-start; text-align: left !important; }
            .two-column, .comp-container { grid-template-columns: 1fr; text-align: left !important; }
            .tile-grid, .commercial-grid { display: flex; flex-direction: column; align-items: center; gap: 15px; }
            .tile { flex-direction: row; align-items: center; text-align: left !important; padding: 20px; gap: 20px; max-width: 100%; width: 100%; flex: 1 1 auto; }
            .tile .icon-box { flex: 0 0 50px; margin: 0; height: auto; }
            .timeline-box { flex-direction: column; gap: 40px; align-items: flex-start; margin-top: 40px; }
            .timeline-line { width: 4px; height: 100%; left: 35px; top: 0; }
            .timeline-step { width: 100%; display: flex; flex-direction: row; align-items: center; text-align: left !important; gap: 24px; }
            .step-num { margin: 0; flex-shrink: 0; width: 60px; height: 60px; font-size: 20px; }
            .tier-card { padding: 40px 24px; max-width: 100%; width: 100%; flex: 1 1 auto; }
            .comp-box { padding: 30px 20px; margin-bottom: 20px; text-align: left !important; }
            .slide-container::after { left: 24px; bottom: 24px; width: 80px; }
        }
        .highlight { color: var(--accent-tan); font-weight: 700; }
        .badge { display: inline-block; padding: 6px 12px; background: var(--accent-muted); border-radius: 5px; font-weight: 700; font-size: 12px; margin-bottom: 10px; letter-spacing: 1px; }
    </style>
</head>
<body>
    <!-- SLIDE 1: INTRO -->
    <div class="slide-container reveal">
        <div class="centered-content">
            <div class="badge">STRATEGIC PARTNERSHIP</div>
            <h1>Your Integrated <br><span class="highlight">Procurement</span> Arm</h1>
            <p style="margin-top: 30px; opacity: 0.8;">A Partner Proposal for <strong>${config.buyerName}</strong></p>
        </div>
    </div>

    <!-- SLIDE 2: ABOUT US -->
    <div class="slide-container reveal">
        <h2 class="slide-title">Who We Are?</h2>
        <div class="two-column">
            <div>
                <p class="highlight" style="font-size: 24px;">Simplifying the Food Processing Ecosystem</p>
                <p>Poshn is a tech-led procurement platform designed to bring transparency and efficiency to fragmented food processing and bioenergy supply chains.</p>
                <div class="stats-grid">
                    <div class="stat-card stagger-child"><span class="stat-value">₹1150 Cr+</span><span class="stat-label">Annual Revenue</span></div>
                    <div class="stat-card stagger-child"><span class="stat-value">500+</span><span class="stat-label">Active Clients</span></div>
                    <div class="stat-card stagger-child"><span class="stat-value">$8M+</span><span class="stat-label">Equity Raised</span></div>
                    <div class="stat-card stagger-child"><span class="stat-value">Tech-Driven</span><span class="stat-label">Procurement Logic</span></div>
                </div>
            </div>
            <div style="text-align: center;" class="hide-mobile">
                 <i class="fa-solid fa-earth-asia" style="font-size: 220px; color: var(--accent-muted); opacity: 0.5;"></i>
            </div>
        </div>
    </div>

    <!-- SLIDE 3: OFFERINGS -->
    <div class="slide-container reveal">
        <h2 class="slide-title">Core Service Pillars</h2>
        <div class="tile-grid">
            ${pillarsHtml}
        </div>
        <div class="two-column" style="margin-top: 40px; flex-grow: 0; align-items: stretch; height: auto;">
             <div style="display: flex; align-items: center;"><p style="margin: 0;">Poshn acts as a buffer, absorbing the administrative friction of sourcing while providing the financial runway needed for high-velocity operations.</p></div>
             <div style="border-left: 4px solid var(--accent-tan); padding-left: 30px; display: flex; align-items: center;"><p class="highlight" style="font-size: clamp(20px, 2.5vw, 24px); margin: 0; line-height: 1.2;">Scalable. Compliant. Efficient.</p></div>
        </div>
    </div>

    ${workingModelSlide}

    <!-- SLIDE 5: ASSOCIATED PARTNERS -->
    <div class="slide-container reveal">
        <h2 class="slide-title">Associated Partners</h2>
        <div class="content-area" style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <p>Trusted by Industry Leaders to manage massive procurement volumes.</p>
            <div class="table-wrapper stagger-child">
                <table style="width: 100%; border-collapse: collapse; background: var(--white); border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.02);">
                    <thead>
                        <tr style="background: var(--text-dark); color: var(--white);">
                            <th style="padding: 20px; text-align: left;">Partner Group</th>
                            <th style="padding: 20px; text-align: left;">Scale Managed</th>
                            <th style="padding: 20px; text-align: left;">Payment Days</th>
                            <th style="padding: 20px; text-align: left;">Margin Structure</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);"><strong>10K Cr Revenue</strong> (BBB+)</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">₹20 Cr</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">100 Days</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">5 - 6%</td></tr>
                        <tr><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);"><strong>12K Cr Revenue</strong> (BBB+)</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">₹15 Cr</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">140 Days</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">7 - 8%</td></tr>
                        <tr><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);"><strong>58K Cr Revenue</strong> (AAA+)</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">₹20 Cr</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">10 Days</td><td style="padding: 15px 20px; border-bottom: 1px solid var(--accent-muted);">0.8%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- SLIDE 7: THE POSHN EDGE (USPs) -->
    <div class="slide-container reveal">
        <h2 class="slide-title">The Poshn Edge</h2>
        <div class="tile-grid">
            ${uspsHtml}
        </div>
    </div>

    <!-- SLIDE 8: COMPLIANCES & SCOPE -->
    <div class="slide-container reveal">
        <h2 class="slide-title">Compliances & Scope</h2>
        <div class="centered-content" style="justify-content: center;">
            <div class="comp-container">
                <div class="comp-box stagger-child" style="background: var(--white); border: 1px solid var(--accent-muted);">
                    <h3 class="highlight"><i class="fa-solid fa-handshake"></i> Governance</h3>
                    <div class="comp-list">${govHtml}</div>
                </div>
                <div class="comp-box dark stagger-child" style="background: var(--text-dark);">
                    <h3 style="color: var(--accent-tan);"><i class="fa-solid fa-ban"></i> Exclusions</h3>
                    <div class="comp-list">${exclHtml}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 9: COMMERCIAL PROPOSAL -->
    <div class="slide-container reveal">
        <h2 class="slide-title">Commercial Proposal</h2>
        <div class="commercial-grid">${tiersHtml}</div>
        <div style="text-align: center; margin-top: 30px; opacity: 0.6; font-style: italic; font-size: 13px;">
            <p>"Scalable, tiered pricing designed for long-term supply chain transformation."</p>
        </div>
    </div>

    <!-- SLIDE 10: THANK YOU -->
    <div class="slide-container reveal">
        <div class="centered-content">
            <h1 style="margin-bottom: 20px;">Thank <span class="highlight">You</span></h1>
            <p style="font-size: 24px;">Transforming the Food Industry Supply Chain.</p>
            <div style="margin-top: 40px; font-family: var(--font-title); font-size: 20px; font-weight: 600;">www.poshn.co | ${config.contactEmail}</div>
        </div>
    </div>

    <script>
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('active');
                else entry.target.classList.remove('active');
            });
        }, { threshold: 0.15 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    <\/script>
</body>
</html>`;
            }, [config]);

            const handleCopy = () => {
                const textArea = document.createElement("textarea");
                textArea.value = finalHTML;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand("copy");
                document.body.removeChild(textArea);
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            const toggleItem = (listKey, item) => {
                setConfig(prev => ({
                    ...prev,
                    [listKey]: prev[listKey].includes(item) 
                        ? prev[listKey].filter(i => i !== item) 
                        : [...prev[listKey], item]
                }));
            };

            return (
                <div className="min-h-screen flex flex-col">
                    <header className="bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between sticky top-0 z-50">
                        <div className="flex items-center gap-3">
                            <div className="bg-[#42210B] p-2 rounded-lg text-[#D4A373]"><Icon name="bolt" size={24} /></div>
                            <h1 className="font-bold text-lg text-slate-800 tracking-tight">Poshn Proposal Generator</h1>
                        </div>
                        <div className="flex bg-slate-100 p-1 rounded-lg">
                            <button onClick={() => setActiveTab('editor')} className={`px-5 py-2 rounded-md text-sm font-semibold transition-all ${activeTab === 'editor' ? 'bg-white text-[#42210B] shadow-sm' : 'text-slate-500 hover:text-slate-800'}`}>Configuration</button>
                            <button onClick={() => setActiveTab('code')} className={`px-5 py-2 rounded-md text-sm font-semibold transition-all ${activeTab === 'code' ? 'bg-white text-[#42210B] shadow-sm' : 'text-slate-500 hover:text-slate-800'}`}>Export Code</button>
                        </div>
                    </header>

                    <main className="flex-1 flex overflow-hidden">
                        {/* LEFT CONFIG PANEL */}
                        <div className={`flex-1 overflow-y-auto p-8 custom-scrollbar ${activeTab === 'editor' ? 'block' : 'hidden'}`}>
                            <div className="max-w-4xl mx-auto space-y-10 pb-20">
                                {/* 1. Identity */}
                                <section className="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm">
                                    <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-slate-800"><Icon name="user" className="text-[#D4A373]" /> 1. Client Identity</h2>
                                    <div className="space-y-4">
                                        <div className="space-y-2">
                                            <label className="text-[10px] font-bold uppercase tracking-wider text-slate-400">Client Entity Name</label>
                                            <input type="text" value={config.buyerName} onChange={(e) => setConfig({...config, buyerName: e.target.value})} className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl outline-none focus:ring-2 focus:ring-[#D4A373] transition-all" />
                                        </div>
                                    </div>
                                </section>

                                {/* 2. Service Pillars */}
                                <section className="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm">
                                    <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-slate-800"><Icon name="layer-group" className="text-[#D4A373]" /> 2. Service Pillars</h2>
                                    <div className="grid grid-cols-2 gap-4">
                                        {Object.keys(PILLAR_DEFS).map(p => (
                                            <button key={p} onClick={() => toggleItem('selectedPillars', p)} className={`p-4 rounded-2xl border text-left transition-all relative ${config.selectedPillars.includes(p) ? 'border-[#D4A373] bg-[#FFFBF2] ring-1 ring-[#D4A373]' : 'border-slate-100 hover:border-slate-200'}`}>
                                                <div className="flex items-center justify-between mb-2">
                                                    <span className="text-sm font-bold text-slate-800">{p}</span>
                                                    {config.selectedPillars.includes(p) && <Icon name="circle-check" className="text-[#D4A373]" />}
                                                </div>
                                                <p className="text-[11px] text-slate-500 leading-tight">{PILLAR_DEFS[p].desc}</p>
                                            </button>
                                        ))}
                                    </div>
                                </section>

                                {/* 3. Working Model */}
                                <section className="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm">
                                    <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-slate-800"><Icon name="timeline" className="text-[#D4A373]" /> 3. Working Model</h2>
                                    <div className="p-4 bg-slate-50 rounded-2xl flex items-center justify-between border border-slate-100 mb-6">
                                        <div className="flex items-center gap-3">
                                            <div className={`p-2 rounded-lg ${config.showWorkingModel ? 'bg-[#D4A373] text-white' : 'bg-slate-200 text-slate-400'}`}><Icon name="diagram-project" /></div>
                                            <div>
                                                <p className="font-bold text-sm text-slate-800">Include Working Model Slide</p>
                                                <p className="text-xs text-slate-500">Enable Slide 4 for this proposal.</p>
                                            </div>
                                        </div>
                                        <input type="checkbox" checked={config.showWorkingModel} onChange={(e) => setConfig({...config, showWorkingModel: e.target.checked})} className="w-6 h-6 rounded-md accent-[#D4A373]" />
                                    </div>
                                    {config.showWorkingModel && (
                                        <div className="p-4 border-l-4 border-[#D4A373] bg-[#FFFBF2]/30 rounded-r-2xl">
                                            <label className="text-xs font-bold text-slate-600 block mb-2">Settlement Timeline (Point 3)</label>
                                            <div className="flex items-center gap-2">
                                                <span className="text-sm text-slate-500">Poshn pays vendor on</span>
                                                <input type="text" value={config.workingModelDays} onChange={(e) => setConfig({...config, workingModelDays: e.target.value})} className="w-20 border border-slate-200 p-1.5 rounded-lg text-center font-bold text-[#42210B]" />
                                                <span className="text-sm text-slate-500">day of report.</span>
                                            </div>
                                        </div>
                                    )}
                                </section>

                                {/* 4. The Poshn Edge */}
                                <section className="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm">
                                    <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-slate-800"><Icon name="award" className="text-[#D4A373]" /> 4. The Poshn Edge (USPs)</h2>
                                    <div className="grid grid-cols-2 gap-4">
                                        {Object.keys(USP_DEFS).map(u => (
                                            <button key={u} onClick={() => toggleItem('selectedUSPs', u)} className={`p-4 rounded-2xl border text-left transition-all relative ${config.selectedUSPs.includes(u) ? 'border-[#D4A373] bg-[#FFFBF2] ring-1 ring-[#D4A373]' : 'border-slate-100 hover:border-slate-200'}`}>
                                                <div className="flex items-center justify-between mb-2">
                                                    <span className="text-sm font-bold text-slate-800">{u}</span>
                                                    {config.selectedUSPs.includes(u) && <Icon name="circle-check" className="text-[#D4A373]" />}
                                                </div>
                                                <p className="text-[11px] text-slate-500 leading-tight">{USP_DEFS[u].desc}</p>
                                            </button>
                                        ))}
                                    </div>
                                </section>

                                {/* 5. Governance & Exclusions */}
                                <section className="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm">
                                    <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-slate-800"><Icon name="shield-halved" className="text-[#D4A373]" /> 5. Governance & Exclusions</h2>
                                    <div className="space-y-6">
                                        <div>
                                            <label className="text-[10px] font-bold uppercase tracking-wider text-slate-400 block mb-3">Governance (Slide 8 White Box)</label>
                                            <div className="grid grid-cols-1 gap-2">
                                                {Object.keys(GOVERNANCE_DEFS).map(g => (
                                                    <button key={g} onClick={() => toggleItem('selectedGovernance', g)} className={`p-3 text-[11px] border rounded-xl text-left transition-all flex items-center gap-3 ${config.selectedGovernance.includes(g) ? 'bg-slate-100 border-slate-300 font-bold text-slate-800' : 'opacity-40 border-slate-100 text-slate-400'}`}>
                                                        <Icon name={config.selectedGovernance.includes(g) ? "check-square" : "square"} />
                                                        {g.replace('Buyer', config.buyerName)}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                        <div>
                                            <label className="text-[10px] font-bold uppercase tracking-wider text-slate-400 block mb-3">Exclusions (Slide 8 Dark Box)</label>
                                            <div className="grid grid-cols-1 gap-2">
                                                {Object.keys(EXCLUSION_DEFS).map(e => (
                                                    <button key={e} onClick={() => toggleItem('selectedExclusions', e)} className={`p-3 text-[11px] border rounded-xl text-left transition-all flex items-center gap-3 ${config.selectedExclusions.includes(e) ? 'bg-[#42210B] border-[#42210B] text-white font-bold' : 'opacity-40 border-slate-100 text-slate-400'}`}>
                                                        <Icon name={config.selectedExclusions.includes(e) ? "check-square" : "square"} />
                                                        {e.replace('Buyer', config.buyerName)}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                {/* 6. Commercial Proposals */}
                                <section className="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm">
                                    <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-slate-800"><Icon name="hand-holding-dollar" className="text-[#D4A373]" /> 6. Commercial Proposals</h2>
                                    <div className="flex gap-4">
                                        {Object.keys(TIER_DEFS).map(t => (
                                            <button key={t} onClick={() => toggleItem('selectedTiers', t)} className={`px-6 py-4 border-2 rounded-2xl text-sm font-bold transition-all ${config.selectedTiers.includes(t) ? 'bg-[#D4A373] text-white border-[#D4A373] shadow-lg shadow-[#D4A373]/20' : 'border-slate-100 text-slate-400 hover:border-slate-200'}`}>{t}</button>
                                        ))}
                                    </div>
                                </section>

                                {/* 7. Support Email */}
                                <section className="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm">
                                    <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-slate-800"><Icon name="envelope" className="text-[#D4A373]" /> 7. Thank You Page</h2>
                                    <div className="space-y-2">
                                        <label className="text-[10px] font-bold uppercase tracking-wider text-slate-400">Support Email ID</label>
                                        <input type="email" value={config.contactEmail} onChange={(e) => setConfig({...config, contactEmail: e.target.value})} className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl outline-none focus:ring-2 focus:ring-[#D4A373] transition-all" />
                                    </div>
                                </section>
                            </div>
                        </div>

                        {/* RIGHT PREVIEW / CODE PANEL */}
                        <div className={`flex-1 bg-slate-900 overflow-hidden relative ${activeTab === 'code' ? 'block' : 'hidden'}`}>
                            <div className="absolute top-6 right-8 z-10 flex gap-3">
                                <button onClick={handleCopy} className="bg-[#D4A373] text-white px-6 py-2.5 rounded-full font-bold text-sm shadow-xl hover:opacity-90 active:scale-95 transition-all flex items-center gap-2">
                                    <Icon name={copied ? "check" : "copy"} />
                                    {copied ? 'Copied!' : 'Copy Code'}
                                </button>
                            </div>
                            <div className="h-full p-8 pt-20 overflow-auto custom-scrollbar">
                                <pre className="text-[11px] font-mono text-slate-400 whitespace-pre-wrap leading-relaxed bg-black/30 p-8 rounded-3xl border border-white/5 shadow-inner">
                                    {finalHTML}
                                </pre>
                            </div>
                        </div>

                        {/* STICKY LIVE PREVIEW */}
                        <div className="w-[480px] bg-slate-100 border-l border-slate-300 flex flex-col shadow-2xl z-20">
                            <div className="p-4 bg-white text-[10px] font-bold uppercase tracking-widest text-slate-400 border-b border-slate-200 flex items-center justify-between">
                                <span className="flex items-center gap-2"><Icon name="desktop" /> Live Mobile Preview</span>
                                <div className="flex gap-1.5">
                                    <div className="w-2 h-2 rounded-full bg-slate-200"></div>
                                    <div className="w-2 h-2 rounded-full bg-slate-200"></div>
                                    <div className="w-2 h-2 rounded-full bg-slate-200"></div>
                                </div>
                            </div>
                            <div className="flex-1 overflow-hidden pointer-events-none group relative">
                                <iframe srcDoc={finalHTML} className="w-full h-full border-none" />
                                <div className="absolute inset-0 bg-transparent"></div>
                            </div>
                            <div className="p-5 bg-[#42210B] text-white">
                                <p className="text-[11px] font-bold text-[#D4A373] uppercase mb-1">Previewing for:</p>
                                <h3 className="font-bold text-lg leading-tight mb-3 truncate">{config.buyerName}</h3>
                                <div className="flex items-center gap-2 text-[10px] opacity-60">
                                    <Icon name="info-circle" />
                                    <span>Content adjusts instantly to your configuration.</span>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
